# This file was generated by GoReleaser. DO NOT EDIT.
cask "kubert" do
  name "kubert"
  desc ""
  homepage "https://github.com/idebeijer/kubert"
  version "0.2.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "kubert"
  bash_completion "completions/kubert.bash"
  zsh_completion "completions/kubert.zsh"
  fish_completion "completions/kubert.fish"

  on_macos do
    on_intel do
      url "https://github.com/idebeijer/kubert/releases/download/v#{version}/kubert_#{version}_darwin_amd64.tar.gz"
      sha256 "556738983f3348363f19c150fa53bb395505a54989a584f18f26e2487c48ebe1"
    end
    on_arm do
      url "https://github.com/idebeijer/kubert/releases/download/v#{version}/kubert_#{version}_darwin_arm64.tar.gz"
      sha256 "9d6ab1a63aa342b3da38a56beb5dcbca8b4a8e7f36b1cc8c23c495cb0fbe81c3"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/idebeijer/kubert/releases/download/v#{version}/kubert_#{version}_linux_amd64.tar.gz"
      sha256 "3051d77c8df452b8c9d5edca8b267da86562411170fc902d3221003d0260ec56"
    end
    on_arm do
      url "https://github.com/idebeijer/kubert/releases/download/v#{version}/kubert_#{version}_linux_arm64.tar.gz"
      sha256 "b1763010da1f27d04dbc8c259550b2cd6dc9f72d47b4d0e5d9febf9ae353da8a"
    end
  end

  postflight do
    if system_command("/usr/bin/xattr", args: ["-h"]).exit_status == 0
      # replace 'kubert' with the actual binary name
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/kubert"]
    end
  end

  # No zap stanza required
end
